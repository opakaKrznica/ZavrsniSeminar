@page "/checkout2"
@using Expert.WebShop.Vjezbe.models;
@inject HttpClient httpClient;
@inject NavigationManager navManager;



 <section class="d-flex justify-content-center bg-secondary bg-gradient ">
        <ul class="list-unstyled  p-5 text-center">
            @foreach (BuyItems item in Orders)   
            {
                <li class="pt-3">
                    <div class="container">

                        <div class="card p-sm-3">


                            <div class="card-body ">

                            <p class="card-title h5">
                                Order ID: @item.OrderId
                            </p>


                            <p class="card-title fw-bold h3">
                                  Name: @item.OrderedByName
                                </p>

                            <p class="card-title fw-bold h3">
                                   Adress: @item.OrderByAdress
                                </p>

                            <p class="card-title fw-bold h3">
                               Email: @item.OrderedByEmail
                            </p>

                            <p class="card-title h4">
                                Number Of Items : @item.NumberOfItems
                            </p>

                            <p class="card-title h4">
                                Price Per Product : @item.PricePerProduct Eur
                            </p>

                            <p class="card-title h4">
                                Product Discount : @item.ProductDiscount %
                            </p>

                                <p class="card-text fw-bold h3">
                                Total Ammount : @item.TotalAmmount Eur
                                </p>
                               
                            </div>
                        </div>
                    </div>
                </li>

            }
        </ul>
    </section>





@code {

    private List<BuyItems> Orders = new List<BuyItems>();


    protected override async Task OnInitializedAsync()
    {
        var result = await httpClient.GetAsync($"{Constants.BaseUrl}/ShoppingCards");
        if (result.IsSuccessStatusCode)
        {
            Orders = await result.Content.ReadFromJsonAsync<List<BuyItems>>();
        }
    }


}
